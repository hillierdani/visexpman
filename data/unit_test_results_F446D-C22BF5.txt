[u'R:\\codes\\visexpman\\users\\test\\unittest_aggregator.py', u'--daq']

################# Computer parameters ####################
uname: ('Windows', 'F446D-C22BF5', '7', '6.1.7601', 'AMD64', 'Intel64 Family 6 Model 23 Stepping 10, GenuineIntel')

architecture: ('64bit', 'WindowsPE')

python_build: ('default', 'Nov 10 2013 19:24:24')

python_version: 2.7.6


################# Test parameters ####################
TEST_consider_frame_rate = False
TEST_daq = True
TEST_daq_device = Dev1
TEST_data = r:\test_data
TEST_delete_files = False
TEST_filterwheel = False
TEST_goniometer = False
TEST_invalid_file = /home
TEST_machine_info = ('Windows', 'F446D-C22BF5', '7', '6.1.7601', 'AMD64', 'Intel64 Family 6 Model 23 Stepping 10, GenuineIntel')
TEST_machine_name = F446D-C22BF5
TEST_mes = False
TEST_no_user_action = False
TEST_os = Windows
TEST_osuser = raicszol
TEST_parallel_port = False
TEST_priority_unittests = ['testVisionExperimentGui.test_01_select_stimfile']
TEST_remote_focus = False
TEST_repeat = 1
TEST_results_folder = ['/mnt/rzws/test_results', 'r:\\test_results', '/tmp', 'c:\\temp']
TEST_short = False
TEST_single_unittest = 
TEST_stage = False
TEST_stim = False
TEST_test = True
TEST_test_data_folder = ['/mnt/rzws/test_data', 'r:\\test_data']
TEST_uled = False
TEST_unittests = ['visexpman.visexp_gui.testVisionExperimentGui', 'visexpman.vision_experiment.experiment_control.TestCaImaging', 'visexpman.visexp_app.TestStim', 'visexpman.vision_experiment.experiment.testExperimentHelpers', 'visexpman.vision_experiment.experiment_data.TestExperimentData', 'visexpman.vision_experiment.screen.TestCaImagingScreen', 'visexpman.vision_experiment.stimulation_library.TestStimulationPatterns', 'visexpman.TestApplicationInit', 'visexpman.generic.parameter.testParameter', 'visexpman.generic.fileop.TestFileops', 'visexpman.generic.utils.TestUtils', 'visexpman.generic.log.TestLog', 'visexpman.generic.signal.TestSignal', 'visexpman.generic.colors.TestColorUtils', 'visexpman.hardware_interface.queued_socket.TestQueuedSocket', 'visexpman.hardware_interface.instrument.TestInstrument', 'visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess', 'visexpman.hardware_interface.scanner_control.TestScannerControl']
TEST_valid_file = r:\codes\visexpman\__init__.py
TEST_working_folder = ['/mnt/rzws/work-rzws', 'r:\\work-rznb-win7', '/tmp', 'c:\\temp']

################# Test results ####################
test_01_select_stimfile (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_05_context_persistence (visexpman.visexp_app.TestStim) ... ok
test_02_read_experiment_duration (visexpman.vision_experiment.experiment.testExperimentHelpers) ... ok
test_01_read_merge_rois (visexpman.vision_experiment.experiment_data.TestExperimentData) ... skipped ''
test_06_measure_frame_rate (visexpman.visexp_app.TestStim) ... FAIL
test_14_add_remove_experiment_animal_file (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_02_invalid_path_parameter (visexpman.generic.parameter.testParameter) ... ok
test_22_numeric_list_parameter_invalid_range1 (visexpman.generic.parameter.testParameter) ... ok
test_01_create_logger (visexpman.generic.log.TestLog) ... ok
test_08_short_waveform (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_02_no_remote_logger (visexpman.generic.log.TestLog) ... ok
test_03_smr (visexpman.vision_experiment.experiment_data.TestExperimentData) ... skipped ''
test_02_moving_shape (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_04_histogram_shift_on_image (visexpman.generic.signal.TestSignal) ... ok
test_01_parse_stim_file (visexpman.vision_experiment.experiment.testExperimentHelpers) ... ok
test_15_rcd_pack (visexpman.generic.utils.TestUtils) ... ok
test_12_context_loading (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_08_stimulation_tester (visexpman.visexp_app.TestStim) ... ok
test_26_numeric_list_out_of_range (visexpman.generic.parameter.testParameter) ... ok
test_15_numeric_parameter_invalid_range_1 (visexpman.generic.parameter.testParameter) ... ok
test_01_valid_path_parameter (visexpman.generic.parameter.testParameter) ... ok
test_02_histogram_shift_2d (visexpman.generic.signal.TestSignal) ... ok
test_13_sinesweep (visexpman.generic.signal.TestSignal) ... ok
test_32_array_parameter (visexpman.generic.parameter.testParameter) ... ok
test_05_invalid_file_parameter (visexpman.generic.parameter.testParameter) ... ok
test_10_generate_natural_stimulus_intensity_profile (visexpman.generic.signal.TestSignal) ... ok
test_17_object2array (visexpman.generic.utils.TestUtils) ... ok
test_04_generate_rectangular_scan (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_01_instrument_process (visexpman.hardware_interface.instrument.TestInstrument) ... ok
test_04_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_08_context_file_no_animal_file_add_log_entry (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_37_set_invalid_type_value_2 (visexpman.generic.parameter.testParameter) ... ok
test_05_load_animal_files_from_data_storage_and_modify (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_19_reconstruct_signal (visexpman.hardware_interface.scanner_control.TestScannerControl) ... ok
test_07_point_laser_beam (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_18_numeric_parameter_invalid_range_3 (visexpman.generic.parameter.testParameter) ... ok
test_11_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_11_sinus_linear_range (visexpman.generic.signal.TestSignal) ... ok
test_06_modify_animal_parameter_name (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_01_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_31_list_of_dict_parameter (visexpman.generic.parameter.testParameter) ... ok
test_03_set_do_line (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_11_process_sine_calibdata (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_16_estimate_scanner_position_shift (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_01_start_stim_loop (visexpman.visexp_app.TestStim) ... ok
test_03_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_03_read_experiment_duration_from_source (visexpman.vision_experiment.experiment.testExperimentHelpers) ... ok
test_05_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_04_invalid_file_parameter (visexpman.generic.parameter.testParameter) ... ok
test_03_multiple_servers (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_06_ping_connections (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_04_not_existing_experiment_class (visexpman.vision_experiment.experiment.testExperimentHelpers) ... ok
test_39_set_valid_value (visexpman.generic.parameter.testParameter) ... ok
test_12_natural_morse (visexpman.generic.signal.TestSignal) ... ok
test_04_load_animal_files_from_data_storage_and_switch (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_07_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_02_copier (visexpman.generic.fileop.TestFileops) ... skipped 'Starts a process and blocks other tests, needs to be fixed'
test_01_pngsave (visexpman.generic.fileop.TestFileops) ... skipped ''
test_08_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_04_ulcorner_coordinate_system (visexpman.visexp_app.TestStim) ... ok
test_04_freespace_warning (visexpman.TestApplicationInit) ... ok
test_01_ca_imaging_app (visexpman.vision_experiment.experiment_control.TestCaImaging) ... ok
test_09_no_context_file_but_animal_file_add_log_entry (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_03_invalid_config (visexpman.TestApplicationInit) ... ok
test_03_snap_and_live_imaging (visexpman.vision_experiment.experiment_control.TestCaImaging) ... ok
test_06_valid_string_parameter (visexpman.generic.parameter.testParameter) ... ok
test_02_colorstr2channel (visexpman.generic.colors.TestColorUtils) ... ok
test_15_scanner_transfer_function (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_08_point_laser_beam_out_of_range (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_07_add_experiment_log_entry (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_07_string_parameter_with_range (visexpman.generic.parameter.testParameter) ... ok
test_14_generate_sinus_calibration_signal (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_23_numeric_list_parameter_invalid_range2 (visexpman.generic.parameter.testParameter) ... ok
test_12_calculate_trigger_signal (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_01_image_display (visexpman.vision_experiment.screen.TestCaImagingScreen) ... ok
test_10_process_calibdata (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_04_bind2ip (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_35_set_out_of_range_value (visexpman.generic.parameter.testParameter) ... ok
test_21_numeric_list_parameter (visexpman.generic.parameter.testParameter) ... ok
test_08_triangle_wf (visexpman.generic.signal.TestSignal) ... ok
test_01_parse_channel_string (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_01_set_position_and_speed (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_06_calibrate_scanner_parameters (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_04_check_retinal_ca_datafile (visexpman.vision_experiment.experiment_data.TestExperimentData) ... ok
test_11_non_process_aio_then_process_aio (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... skipped 'Daq tests disabled'
test_40_set_valid_value (visexpman.generic.parameter.testParameter) ... ok
test_29_dict_parameter (visexpman.generic.parameter.testParameter) ... ok
test_25_invalid_numeric_list_parameter_2 (visexpman.generic.parameter.testParameter) ... ok
test_33_array_parameter_with_range (visexpman.generic.parameter.testParameter) ... ok
test_08_sinus_pattern_scan_daq (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_17_rectangular_scan_timing (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_10_remove_experiment_log_entry (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_07_sine_scan_pattern (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_14_trigger_indexes (visexpman.generic.signal.TestSignal) ... ok
test_09_invalid_switch_parameter (visexpman.generic.parameter.testParameter) ... ok
test_02_execute_command (visexpman.visexp_app.TestStim) ... ok
test_03_presscommands (visexpman.visexp_app.TestStim) ... ok
test_07_sin_waveform (visexpman.generic.signal.TestSignal) ... ok
test_13_rcd_pack (visexpman.generic.utils.TestUtils) ... ok
test_05_export2video (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... skipped 'Supported only on Linux'
test_10_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_01_command_line_args (visexpman.TestApplicationInit) ... skipped 'Does not work on windows system'
test_11_enumerated_parameter_out_of_range (visexpman.generic.parameter.testParameter) ... ok
test_14_numeric_parameter_out_of_range (visexpman.generic.parameter.testParameter) ... ok
test_09_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_01_histogram_shift_1d (visexpman.generic.signal.TestSignal) ... ok
test_38_set_valid_value (visexpman.generic.parameter.testParameter) ... ok
test_10_valid_enumerated_parameter (visexpman.generic.parameter.testParameter) ... ok
test_28_string_list_parameter_with_range (visexpman.generic.parameter.testParameter) ... ok
test_05_single_ai_channel (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_13_add_remove_experiment_no_animal_file (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_12_rcd_pack (visexpman.generic.utils.TestUtils) ... ok
test_08_valid_switch_parameter (visexpman.generic.parameter.testParameter) ... ok
test_03_natural_stim_spectrum (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_11_copy_animal_file_after_gui_start (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_01_simple_transfer (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_09_nonprocess_aio (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_03_histogram_shift_band_and_gamma (visexpman.generic.signal.TestSignal) ... ok
test_05_exp_config_points2non_expclass (visexpman.vision_experiment.experiment.testExperimentHelpers) ... ok
test_09_fft_scan_signal (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_07_execute_experiment (visexpman.visexp_app.TestStim) ... ok
test_get_colors (visexpman.generic.colors.TestColorUtils) ... ok
test_06_texture (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... skipped 'Funtion is not ready'
test_02_elphys (visexpman.vision_experiment.experiment_data.TestExperimentData) ... ok
test_03_generate_line_scans (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_13_valid_numeric_parameter (visexpman.generic.parameter.testParameter) ... ok
test_02_create_animal_file (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_04_aio_multichannel (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_10_set_waveform (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_03_valid_file_parameter (visexpman.generic.parameter.testParameter) ... ok
test_05_twophoton (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_03_animal_file_parameter_not_provided (visexpman.visexp_gui.testVisionExperimentGui) ... ok
test_24_invalid_numeric_list_parameter_1 (visexpman.generic.parameter.testParameter) ... ok
test_16_numpy_circles (visexpman.generic.utils.TestUtils) ... ok
test_01_curtain (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_06_greyscale_conversion (visexpman.generic.signal.TestSignal) ... ok
test_16_numeric_parameter_invalid_range_1 (visexpman.generic.parameter.testParameter) ... ok
test_02_set_speed_position_withmax_acceleration (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped ''
test_13_run_twophoton (visexpman.hardware_interface.scanner_control.TestScannerControl) ... skipped 'Run only for debug purposes'
test_36_set_invalid_type_value_1 (visexpman.generic.parameter.testParameter) ... ok
test_12_enumerated_parameter_invalid_range (visexpman.generic.parameter.testParameter) ... ok
test_02_run_experiment (visexpman.vision_experiment.experiment_control.TestCaImaging) ... ok
test_19_invalid_numeric_parameter_1 (visexpman.generic.parameter.testParameter) ... ok
test_06_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_02_big_data_transfer (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_14_rcd_pack (visexpman.generic.utils.TestUtils) ... ok
test_02_no_command_line_args (visexpman.TestApplicationInit) ... ok
test_05_start_sockets_from_config (visexpman.hardware_interface.queued_socket.TestQueuedSocket) ... ok
test_09_triangle_wf_single (visexpman.generic.signal.TestSignal) ... ok
test_12_analog_control (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_02_set_voltage (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_04_natural_export (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... skipped ''
test_02_pulse_train (visexpman.generic.utils.TestUtils) ... ok
test_05_greyscale_invalid_dimension (visexpman.generic.signal.TestSignal) ... ok
test_10_block_trigger (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_30_invalid_dict_parameter (visexpman.generic.parameter.testParameter) ... ok
test_07_aio_process_run_twice (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok
test_03_parse_animal_filename (visexpman.generic.fileop.TestFileops) ... ok
test_27_string_list_parameter (visexpman.generic.parameter.testParameter) ... ok
test_05_freespace_error (visexpman.TestApplicationInit) ... ok
test_18_scanner_signal (visexpman.hardware_interface.scanner_control.TestScannerControl) ... ok
test_17_numeric_parameter_invalid_range_2 (visexpman.generic.parameter.testParameter) ... ok
test_34_set_valid_value (visexpman.generic.parameter.testParameter) ... ok
test_09_show_grating_non_texture (visexpman.vision_experiment.stimulation_library.TestStimulationPatterns) ... ok
test_20_invalid_numeric_parameter_2 (visexpman.generic.parameter.testParameter) ... ok
test_01_add_frame (visexpman.generic.colors.TestColorUtils) ... ok
test_06_aio_start_without_params (visexpman.hardware_interface.daq_instrument.TestAnalogIOProcess) ... ok

======================================================================
FAIL: test_06_measure_frame_rate (visexpman.visexp_app.TestStim)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "r:\codes\visexpman\engine\visexp_app.py", line 454, in test_06_measure_frame_rate
    numpy.testing.assert_allclose(measured_framerate, self.context['machine_config'].SCREEN_EXPECTED_FRAME_RATE, 0, self.context['machine_config'].FRAME_RATE_TOLERANCE)
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 1181, in assert_allclose
    verbose=verbose, header=header)
  File "C:\Python27\lib\site-packages\numpy\testing\utils.py", line 644, in assert_array_compare
    raise AssertionError(msg)
AssertionError: 
Not equal to tolerance rtol=0, atol=4

(mismatch 100.0%)
 x: array(941.92)
 y: array(60.0)

----------------------------------------------------------------------
Ran 167 tests in 1087.399s

FAILED (failures=1, skipped=26)

2015-02-03 15:17:54.088000
